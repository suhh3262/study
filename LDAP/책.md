### ì—”íŠ¸ë¦¬ì˜ ë¦¬í”Œë¦¬ì¼€ì´ì…˜ ë°©ì‹
#### 1. ì¡°ì‘ ë¡œê·¸ë¥¼ ë³´ë‚´ëŠ” ë°©ì‹
   - ê·¸ë£¹ Xì— ì‚¬ìš©ìë¥¼ ë“±ë¡í–ˆë‹¤ëŠ” ë¡œê·¸ë¥¼ ìƒëŒ€ ì„œë²„ì— ì „ì†¡
   - ìƒëŒ€ ì„œë²„ì¸¡ íƒ€ì„ìŠ¤íƒ¬í”„ì— ë”°ë¼ ì¡°ì‘ ë¡œê·¸ì˜ ë‚´ìš©ì´ ì‹¤í–‰
   - ê° ì„œë²„ì˜ ê·¸ë£¹ Xì— ì‚¬ìš©ì Aì™€ ì‚¬ìš©ì Bê°€ ë“±ë¡ë¨
   - 1ì—”íŠ¸ë¦¬ë‹¹ í¬ê¸°ê°€ í¬ê³  ê·¸ì¤‘ ì¼ë¶€ ì—”íŠ¸ë¦¬ë§Œ ë¹ˆë²ˆí•˜ê²Œ ì—…ë°ì´íŠ¸í•˜ëŠ” ìš©ë„ì—ì„œëŠ” ë¦¬í”Œë¦¬ì¼€ì´ì…˜ ë°ì´í„°ì˜ ì „ì†¡ëŸ‰ì„ ì¤„ì´ëŠ” íš¨ê³¼ O
  
#### 2. ì—”íŠ¸ë¦¬ ì „ì²´ë¥¼ ë¦¬í”Œë¦¬ì¼€ì´ì…˜í•˜ëŠ” ë°©ì‹
   - ì‚¬ìš©ì Aë§Œ ë“¤ì–´ ìˆëŠ” ê·¸ë£¹ Xì˜ ì—”íŠ¸ë¦¬ ì „ì²´ ì •ë³´ê°€ ì„œë²„ 2ë¡œ ì „ì†¡ë¨
   - ì‚¬ìš©ì Bë§Œ ë“¤ì–´ ìˆëŠ” ê·¸ë£¹ Xì˜ ì—”íŠ¸ë¦¬ ì „ì²´ ì •ë³´ê°€ ì„œë²„ 1ë¡œ ì „ì†¡ë¨
   - ê·¸ë£¹ Xì˜ ì •ë³´ëŠ” ë” ìƒˆë¡œìš´ ì‹œê°ì˜ ì—”íŠ¸ë¦¬ ì „ì²´ ì •ë³´ê°€ ì ìš©ë¨
   - ì–´ëŠ í•œìª½ ì„œë²„ì˜ ì—…ë°ì´íŠ¸ ë‚´ìš©ì€ ëˆ„ë½ë˜ê³ , ê²°ê³¼ì ìœ¼ë¡œ ê·¸ë£¹ Xì— ë“±ë¡ë˜ì–´ì•¼ í•  ì‚¬ìš©ìê°€ ë“±ë¡ë˜ì§€ ì•ŠëŠ” ìƒí™© ë°œìƒ ê°€ëŠ¥ì„± O

<br>

> - OpenLDAPì—ì„œ ì¼ë°˜ì ìœ¼ë¡œ ì´ìš©ë˜ëŠ” `syncrepl` ë°©ì‹ì˜ ë¦¬í”Œë¦¬ì¼€ì´ì…˜ì€ 2íƒ€ì…
> - OpenLDAPì—ì„œ 1íƒ€ì… ë¦¬í”Œë¦¬ì¼€ì´ì…˜ì„ `Delta-syncrepl` ë°©ì‹ìœ¼ë¡œ ì œê³µí•˜ì§€ë§Œ, ë§ˆìŠ¤í„° ìŠ¬ë ˆì´ë¸Œ ë°©ì‹ì—ì„œë§Œ ì´ìš© ê°€ëŠ¥
> - í•œí¸, OpenDJë‚˜ ORACLE DSEEì—ëŠ” 1ë°©ì‹ ì±„íƒ

<BR>

`syncrepl`
- ì†Œë¹„ì LDAP ì„œë²„ê°€ DIT ì¡°ê°ì˜ ì„€ë„ ë³µì‚¬ë³¸ì„ ìœ ì§€í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ì†Œë¹„ì ì¸¡ ë³µì œ ì—”ì§„.
- ì†Œë¹„ì ì¸¡ì— ìƒì£¼í•˜ë©°, ì½˜í…ì¸  ë³€ê²½ ì‹œ ì ì‹œ ì—…ë°ì´íŠ¸ë¥¼ ìˆ˜í–‰í•˜ì—¬ ë³µì œë³¸ ìƒì„±

##### ğŸŒŸ syncrepl êµ¬ì„±ë°©ë²• (https://www.openldap.org/doc/admin23/syncrepl.html)

<br>

---

### ì´ì¤‘í™”.md íŒŒì¼ê¹Œì§€ ëª¨ë‘ ì™„ë£Œëœ ìƒí™©ì—ì„œ ì¶”ê°€ë¡œ ì‘ì—… ì§„í–‰

#### ë°ì´í„°ë² ì´ìŠ¤ì— ì—”íŠ¸ë¦¬ ì €ì¥
> ì¶”ê°€ì…ë ¥
```
vi /etc/openldap/ldap.config
```
```
BASE dc=test,dc=local
URI ldapi:///
```
<br>

```
ldapsearch -LLL
```
```
[root@master ~]# ldapsearch -LLL
SASL/EXTERNAL authentication started
SASL username: gidNumber=0+uidNumber=0,cn=peercred,cn=external,cn=auth
SASL SSF: 0
dn: dc=test,dc=local
dc: test
objectClass: top
objectClass: domain

dn: cn=ldapadm,dc=test,dc=local
objectClass: organizationalRole
cn: ldapadm
description: LDAP Manager

dn: ou=People,dc=test,dc=local
objectClass: organizationalUnit
ou: People

dn: ou=Group,dc=test,dc=local
objectClass: organizationalUnit
ou: Group

dn: uid=rpuser,dc=test,dc=local
objectClass: simpleSecurityObject
objectClass: account
uid: rpuser
description: Replication User
userPassword:: MTExMQ==

dn: uid=ecore,ou=People,dc=test,dc=local
objectClass: top
objectClass: account
objectClass: posixAccount
objectClass: shadowAccount
cn: ecore
uid: ecore
uidNumber: 9989
gidNumber: 100
homeDirectory: /home/ecore
loginShell: /bin/bash
gecos: LDAP Replication Test User
userPassword:: MTExMQ==
shadowLastChange: 17058
shadowMin: 0
shadowMax: 99999
shadowWarning: 7
```


#### ì™¸ë¶€ ì ‘ì† ì„¤ì • (ACL)
```
vi acl.ldif
```
```
[root@master ~]# cat acl.ldif
dn: olcDatabase={2}hdb,cn=config
replace: olcAccess
olcAccess: to * by dn.base="gidNumber=0+uidNumber=0,cn=peercred,cn=external, cn=auth" manage by * break
olcAccess: to attrs=userPassword by anonymous auth by * none
olcAccess: to * by * read
```

- ì ìš©
```
[root@master ~]# ldapmodify -f acl.ldif
SASL/EXTERNAL authentication started
SASL username: gidNumber=0+uidNumber=0,cn=peercred,cn=external,cn=auth
SASL SSF: 0
modifying entry "olcDatabase={2}hdb,cn=config"
```

#### ê´€ë¦¬ì ì—”íŠ¸ë¦¬ë¡œ ì¸ì¦í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸
```
[root@master cn=config]# ldapsearch -x -D"cn=ldapadm,dc=test,dc=local" -H ldap://192.168.56.11/ -W
Enter LDAP Password:
```
![Image](https://github.com/user-attachments/assets/29ccbe68-0f2a-4e3f-ae42-d6f7f29ec5bf)






